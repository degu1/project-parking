<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <script
            src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
<form>
    <input id="email" type="text" placeholder="Email" required autofocus>
    <input id="password" type="text" placeholder="Password" required>

    <div class="form_field">
        <input type="submit" value="Sign In" onclick="authenticate()">
    </div>
</form>
</body>
</html>
<script rel="javascript" type='text/javascript'>

    function authenticate() {
        var username = document.getElementById('email');
        var password = document.getElementById('password');
        var url = "http://localhost:8080/authenticate?username="+username.value+"&password="+password.value;
        $.ajaxSetup({async: false});
        $.ajax({
            type: 'POST',
            url: url,
            success: function (){
                $.ajax({
                    type: 'GET',
                    url: "http://localhost:8080/tl_parking_lots",
                    dataType: 'json'
                });
            },
            dataType: 'json'
        });
    }

</script>